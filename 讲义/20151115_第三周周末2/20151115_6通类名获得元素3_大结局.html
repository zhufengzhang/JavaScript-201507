<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
<ul>
		<li class=" selectedTab  tab">选项一 </li>
        <li class="tab">选项二</li>
        <li class="tab">选项三 </li>
        <p class="content">ppppp</p>
        <li class="tab">选项四</li>
         <p class="content">ppppp</p> 
         <div>div</div>
          <div>div</div>
           <div>div</div>
         <p class="content">ppppp</p>
        <li class="tab">选项五 </li>
        
        <li class="tab selectedTab promoted content">选项一 </li>
        <li class="tab">选项二</li>
        <li class="tab">选项三 </li>
        <p class="content">ppppp</p>
        <li class="tab">选项四</li>
         <p class="content tab promoted">ppppp</p> 
         <div>div</div>
          <div class="tab">div,tab</div>
           <div>div</div>
         <p class="content">ppppp</p>
        <li class="tab">选项五 </li>
</ul>
</body>
</html>
<script src="DOM.js"></script>
<script>
var str=" content   tab   promoted  ";

function getElesByClass(strClass,context){//context是上下文
	context=context||document;
	var eles=context.getElementsByTagName("*");
	if(strClass.trim){
		strClass=strClass.trim();//不但去掉了首尾空格，还把中间多余的空格也去掉了。	
	}else{
		var regTrim=/^ +| +$/g;
		strClass=strClass.replace(regTrim,"");
	}
	var aClass=strClass.split(/ +/);
	
	for(var i=0;i<aClass.length;i++){
		//eles=byClass(aClass[i],eles);
		//在下面，要把byClass实现的逻辑在这里再实现一遍
		//aClass[i]里面放的是具体每一个类名，通过这个类名生成正则，然后去匹配元素就可以了
		
		var reg=new RegExp("(^| )"+aClass[i]+"( |$)");
		var a=[];//要把筛选的结果保存下来
		for(var j=0;j<eles.length;j++){
			var ele=eles[j];
			if(reg.test(ele.className)){
				a.push(ele);	
			}
		}
		eles=a;//相当于return a之后，更新eles
			
	}
	return eles;	
}

var eles=getElesByClass(str);
for(var i=0;i<eles.length;i++){
	eles[i].style.backgroundColor="red";	
}
</script>
